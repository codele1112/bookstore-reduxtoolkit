{"ast":null,"code":"var _jsxFileName = \"/Users/nguyenduongthuyvy/WORKSPACE/Coderschool/bookstore-coderschool/src/pages/HomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { ClipLoader } from \"react-spinners\";\nimport { useNavigate } from \"react-router-dom\";\nimport PaginationBar from \"../components/PaginationBar\";\nimport SearchForm from \"../components/SearchForm\";\nimport { FormProvider } from \"../form\";\nimport { useForm } from \"react-hook-form\";\nimport { Container, Alert, Box, Card, Stack, CardMedia, CardActionArea, Typography, CardContent } from \"@mui/material\";\nimport { fetchData } from \"../components/book/bookSlice.js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BACKEND_API = process.env.REACT_APP_BACKEND_API;\nconst HomePage = () => {\n  _s();\n  const dispatch = useDispatch();\n  const status = useSelector(state => state.book.status);\n  const books = useSelector(state => state.book.books);\n  const [pageNum, setPageNum] = useState(1);\n  const [query, setQuery] = useState(\"\");\n  const totalPage = 10;\n  const limit = 10;\n  const navigate = useNavigate();\n  const handleClickBook = bookId => {\n    navigate(`/books/${bookId}`);\n  };\n  useEffect(() => {\n    dispatch(fetchData({\n      pageNum,\n      limit: 20,\n      query\n    }));\n    console.log(\"qury\", query);\n  }, [dispatch, pageNum, limit, query]);\n\n  //--------------form\n  const defaultValues = {\n    searchQuery: \"\"\n  };\n  const methods = useForm({\n    defaultValues\n  });\n  const {\n    handleSubmit\n  } = methods;\n  const onSubmit = data => {\n    setQuery(data.searchQuery);\n  };\n  //----------------\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Stack, {\n      sx: {\n        display: \"flex\",\n        alignItems: \"center\",\n        m: \"2rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h3\",\n        sx: {\n          textAlign: \"center\"\n        },\n        children: \"Book Store\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), status && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 20\n      }, this), /*#__PURE__*/_jsxDEV(FormProvider, {\n        methods: methods,\n        onSubmit: handleSubmit(onSubmit),\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 2,\n          direction: {\n            xs: \"column\",\n            sm: \"row\"\n          },\n          alignItems: {\n            sm: \"center\"\n          },\n          justifyContent: \"space-between\",\n          mb: 2,\n          children: /*#__PURE__*/_jsxDEV(SearchForm, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PaginationBar, {\n        pageNum: pageNum,\n        setPageNum: setPageNum,\n        totalPageNum: totalPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: status ? /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          textAlign: \"center\",\n          color: \"primary.main\"\n        },\n        children: /*#__PURE__*/_jsxDEV(ClipLoader, {\n          color: \"inherit\",\n          size: 150,\n          loading: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        spacing: 2,\n        justifyContent: \"space-around\",\n        flexWrap: \"wrap\",\n        children: books === null || books === void 0 ? void 0 : books.map(book => /*#__PURE__*/_jsxDEV(Card, {\n          onClick: () => handleClickBook(book.id),\n          sx: {\n            width: \"12rem\",\n            height: \"27rem\",\n            marginBottom: \"2rem\"\n          },\n          children: /*#__PURE__*/_jsxDEV(CardActionArea, {\n            children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n              component: \"img\",\n              image: `${BACKEND_API}/${book.imageLink}`,\n              alt: `${book.title}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                gutterBottom: true,\n                variant: \"h5\",\n                component: \"div\",\n                children: `${book.title}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this)\n        }, book.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(HomePage, \"5NLFwdiouRKLf1+VvXjpF2avdpk=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useNavigate, useForm];\n});\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useState","useEffect","ClipLoader","useNavigate","PaginationBar","SearchForm","FormProvider","useForm","Container","Alert","Box","Card","Stack","CardMedia","CardActionArea","Typography","CardContent","fetchData","useDispatch","useSelector","jsxDEV","_jsxDEV","BACKEND_API","process","env","REACT_APP_BACKEND_API","HomePage","_s","dispatch","status","state","book","books","pageNum","setPageNum","query","setQuery","totalPage","limit","navigate","handleClickBook","bookId","console","log","defaultValues","searchQuery","methods","handleSubmit","onSubmit","data","children","sx","display","alignItems","m","variant","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","severity","spacing","direction","xs","sm","justifyContent","mb","totalPageNum","color","size","loading","flexWrap","map","onClick","id","width","height","marginBottom","component","image","imageLink","alt","title","gutterBottom","_c","$RefreshReg$"],"sources":["/Users/nguyenduongthuyvy/WORKSPACE/Coderschool/bookstore-coderschool/src/pages/HomePage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { ClipLoader } from \"react-spinners\";\nimport { useNavigate } from \"react-router-dom\";\nimport PaginationBar from \"../components/PaginationBar\";\nimport SearchForm from \"../components/SearchForm\";\nimport { FormProvider } from \"../form\";\nimport { useForm } from \"react-hook-form\";\nimport {\n  Container,\n  Alert,\n  Box,\n  Card,\n  Stack,\n  CardMedia,\n  CardActionArea,\n  Typography,\n  CardContent,\n} from \"@mui/material\";\nimport { fetchData } from \"../components/book/bookSlice.js\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst BACKEND_API = process.env.REACT_APP_BACKEND_API;\n\nconst HomePage = () => {\n  const dispatch = useDispatch();\n  const status = useSelector((state) => state.book.status);\n  const books = useSelector((state) => state.book.books);\n  const [pageNum, setPageNum] = useState(1);\n  const [query, setQuery] = useState(\"\");\n  const totalPage = 10;\n  const limit = 10;\n\n  const navigate = useNavigate();\n  const handleClickBook = (bookId) => {\n    navigate(`/books/${bookId}`);\n  };\n\n  useEffect(() => {\n    dispatch(fetchData({ pageNum, limit: 20, query }));\n    console.log(\"qury\", query);\n  }, [dispatch, pageNum, limit, query]);\n\n  //--------------form\n  const defaultValues = {\n    searchQuery: \"\",\n  };\n  const methods = useForm({\n    defaultValues,\n  });\n  const { handleSubmit } = methods;\n  const onSubmit = (data) => {\n    setQuery(data.searchQuery);\n  };\n  //----------------\n\n  return (\n    <Container>\n      <Stack sx={{ display: \"flex\", alignItems: \"center\", m: \"2rem\" }}>\n        <Typography variant=\"h3\" sx={{ textAlign: \"center\" }}>\n          Book Store\n        </Typography>\n        {status && <Alert severity=\"error\">{status}</Alert>}\n        <FormProvider methods={methods} onSubmit={handleSubmit(onSubmit)}>\n          <Stack\n            spacing={2}\n            direction={{ xs: \"column\", sm: \"row\" }}\n            alignItems={{ sm: \"center\" }}\n            justifyContent=\"space-between\"\n            mb={2}\n          >\n            <SearchForm />\n          </Stack>\n        </FormProvider>\n        <PaginationBar\n          pageNum={pageNum}\n          setPageNum={setPageNum}\n          totalPageNum={totalPage}\n        />\n      </Stack>\n      <div>\n        {status ? (\n          <Box sx={{ textAlign: \"center\", color: \"primary.main\" }}>\n            <ClipLoader color=\"inherit\" size={150} loading={true} />\n          </Box>\n        ) : (\n          <Stack\n            direction=\"row\"\n            spacing={2}\n            justifyContent=\"space-around\"\n            flexWrap=\"wrap\"\n          >\n            {books?.map((book) => (\n              <Card\n                key={book.id}\n                onClick={() => handleClickBook(book.id)}\n                sx={{\n                  width: \"12rem\",\n                  height: \"27rem\",\n                  marginBottom: \"2rem\",\n                }}\n              >\n                <CardActionArea>\n                  <CardMedia\n                    component=\"img\"\n                    image={`${BACKEND_API}/${book.imageLink}`}\n                    alt={`${book.title}`}\n                  />\n                  <CardContent>\n                    <Typography gutterBottom variant=\"h5\" component=\"div\">\n                      {`${book.title}`}\n                    </Typography>\n                  </CardContent>\n                </CardActionArea>\n              </Card>\n            ))}\n          </Stack>\n        )}\n      </div>\n    </Container>\n  );\n};\n\nexport default HomePage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}