{"ast":null,"code":"import{useEffect}from\"react\";import{ClipLoader}from\"react-spinners\";import{useParams}from\"react-router-dom\";import{Container,Button,Box,Grid,Stack,Typography}from\"@mui/material\";import addToReadingList from\"../components/book/bookSlice\";import getBookDetail from\"../components/book/bookSlice\";import{useDispatch,useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BACKEND_API=process.env.REACT_APP_BACKEND_API;var BookDetailPage=function BookDetailPage(){var dispatch=useDispatch();var status=useSelector(function(state){return state.book.status;});var bookDetail=useSelector(function(state){return state.book.bookDetail;});var params=useParams();var bookId=params.id;useEffect(function(){dispatch(getBookDetail(bookId));},[dispatch,bookId]);return/*#__PURE__*/_jsx(Container,{children:status?/*#__PURE__*/_jsx(Box,{sx:{textAlign:\"center\",color:\"primary.main\"},children:/*#__PURE__*/_jsx(ClipLoader,{color:\"#inherit\",size:150,loading:true})}):/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,p:4,mt:5,sx:{border:\"1px solid black\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,md:4,children:bookDetail&&/*#__PURE__*/_jsx(\"img\",{width:\"100%\",src:\"\".concat(BACKEND_API,\"/\").concat(bookDetail.imageLink),alt:\"\"})}),/*#__PURE__*/_jsx(Grid,{item:true,md:8,children:bookDetail&&/*#__PURE__*/_jsxs(Stack,{children:[/*#__PURE__*/_jsx(\"h2\",{children:bookDetail.title}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Author:\"}),\" \",bookDetail.author]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Year:\"}),\" \",bookDetail.year]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Country:\"}),\" \",bookDetail.country]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Pages:\"}),\" \",bookDetail.pages]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Language:\"}),\" \",bookDetail.language]}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",sx:{width:\"fit-content\"},onClick:function onClick(){return dispatch(addToReadingList(bookDetail));},children:\"Add to Reading List\"})]})})]})});};export default BookDetailPage;","map":{"version":3,"names":["useEffect","ClipLoader","useParams","Container","Button","Box","Grid","Stack","Typography","addToReadingList","getBookDetail","useDispatch","useSelector","jsx","_jsx","jsxs","_jsxs","BACKEND_API","process","env","REACT_APP_BACKEND_API","BookDetailPage","dispatch","status","state","book","bookDetail","params","bookId","id","children","sx","textAlign","color","size","loading","container","spacing","p","mt","border","item","md","width","src","concat","imageLink","alt","title","variant","author","year","country","pages","language","onClick"],"sources":["/Users/nguyenduongthuyvy/WORKSPACE/Coderschool/bookstore-coderschool/src/pages/BookDetailPage.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { ClipLoader } from \"react-spinners\";\nimport { useParams } from \"react-router-dom\";\nimport { Container, Button, Box, Grid, Stack, Typography } from \"@mui/material\";\nimport addToReadingList from \"../components/book/bookSlice\";\nimport getBookDetail from \"../components/book/bookSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nconst BACKEND_API = process.env.REACT_APP_BACKEND_API;\n\nconst BookDetailPage = () => {\n  const dispatch = useDispatch();\n  const status = useSelector((state) => state.book.status);\n  const bookDetail = useSelector((state) => state.book.bookDetail);\n  const params = useParams();\n  const bookId = params.id;\n\n  useEffect(() => {\n    dispatch(getBookDetail(bookId));\n  }, [dispatch, bookId]);\n\n  return (\n    <Container>\n      {status ? (\n        <Box sx={{ textAlign: \"center\", color: \"primary.main\" }}>\n          <ClipLoader color=\"#inherit\" size={150} loading={true} />\n        </Box>\n      ) : (\n        <Grid\n          container\n          spacing={2}\n          p={4}\n          mt={5}\n          sx={{ border: \"1px solid black\" }}\n        >\n          <Grid item md={4}>\n            {bookDetail && (\n              <img\n                width=\"100%\"\n                src={`${BACKEND_API}/${bookDetail.imageLink}`}\n                alt=\"\"\n              />\n            )}\n          </Grid>\n          <Grid item md={8}>\n            {bookDetail && (\n              <Stack>\n                <h2>{bookDetail.title}</h2>\n                <Typography variant=\"body1\">\n                  <strong>Author:</strong> {bookDetail.author}\n                </Typography>\n                <Typography variant=\"body1\">\n                  <strong>Year:</strong> {bookDetail.year}\n                </Typography>\n                <Typography variant=\"body1\">\n                  <strong>Country:</strong> {bookDetail.country}\n                </Typography>\n                <Typography variant=\"body1\">\n                  <strong>Pages:</strong> {bookDetail.pages}\n                </Typography>\n                <Typography variant=\"body1\">\n                  <strong>Language:</strong> {bookDetail.language}\n                </Typography>\n                <Button\n                  variant=\"outlined\"\n                  sx={{ width: \"fit-content\" }}\n                  onClick={() => dispatch(addToReadingList(bookDetail))}\n                >\n                  Add to Reading List\n                </Button>\n              </Stack>\n            )}\n          </Grid>\n        </Grid>\n      )}\n    </Container>\n  );\n};\n\nexport default BookDetailPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}